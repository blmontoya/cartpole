[workspace]
channels = ["conda-forge"]
name = "TEMPLATE"
platforms = ["linux-64"]
version = "0.1.0"
#---------------------------------------------------------------------------------------------
[feature.gpu]
channels = ["nvidia", "pytorch", "conda-forge"]

[feature.cpu]
# CPU-only environment
#---------------------------------------------------------------------------------------------
[feature.test]
# Test environment
#---------------------------------------------------------------------------------------------
[tasks]
#---------------------------------------------------------------------------------------------
[feature.cpu.tasks]
#---------------------------------------------------------------------------------------------
[feature.gpu.tasks]
#---------------------------------------------------------------------------------------------
[feature.test.tasks]
lint = "pre-commit run --all-files --show-diff-on-failure"
test = "python -m pytest test/ -v"
#---------------------------------------------------------------------------------------------
[dependencies]
python = "==3.11"
pip = ">=25.0.1,<26"
hatchling = ">=1.27.0,<2"
#---------------------------------------------------------------------------------------------
[feature.cpu.dependencies]
# CPU-specific dependencies can be added here
#---------------------------------------------------------------------------------------------
[feature.gpu.dependencies]
# GPU-specific dependencies
cuda-version = "12.0.*"
#---------------------------------------------------------------------------------------------
[feature.test.dependencies]
pytest = ">=7.0.0"
pre-commit = ">=3.6.0"
#---------------------------------------------------------------------------------------------
[feature.cpu.pypi-dependencies]
#---------------------------------------------------------------------------------------------
[feature.gpu.pypi-dependencies]
#---------------------------------------------------------------------------------------------
[feature.test.pypi-dependencies]
#---------------------------------------------------------------------------------------------
[target.unix.activation]
scripts = ["post-install.bash"]
#---------------------------------------------------------------------------------------------
[feature.cpu.target.unix.activation]
#---------------------------------------------------------------------------------------------
[feature.gpu.target.unix.activation]
#---------------------------------------------------------------------------------------------
[feature.test.target.unix.activation]
#---------------------------------------------------------------------------------------------
[environments]
cpu = { features = ["cpu"] }
gpu = { features = ["gpu"] }
test = { features = ["test"] }
#---------------------------------------------------------------------------------------------
